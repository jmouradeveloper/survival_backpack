#!/usr/bin/env bash
# Script para subir a aplica√ß√£o via Docker

set -e

echo "üöÄ Iniciando a aplica√ß√£o Survival Backpack via Docker..."

# Verificar se docker e docker-compose est√£o instalados
if ! command -v docker &> /dev/null; then
    echo "‚ùå Docker n√£o est√° instalado. Por favor, instale o Docker primeiro."
    exit 1
fi

if ! command -v docker-compose &> /dev/null && ! docker compose version &> /dev/null; then
    echo "‚ùå Docker Compose n√£o est√° instalado. Por favor, instale o Docker Compose primeiro."
    exit 1
fi

# Subir os containers
if docker compose version &> /dev/null; then
    docker compose up -d
else
    docker-compose up -d
fi

echo "‚úÖ Aplica√ß√£o iniciada com sucesso!"
echo "üìç Acesse a aplica√ß√£o em: http://localhost:3000"
echo ""
echo "Comandos √∫teis:"
echo "  - Ver logs: bin/docker-logs"
echo "  - Executar testes: bin/docker-test"
echo "  - Console: bin/docker-console"
echo "  - Parar app: bin/docker-stop"

